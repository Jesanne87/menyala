<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Informasi IP</title>
<style>
  body {
    font-family: 'Arial', sans-serif;
    background-color: #454545;
    color: #ffffff;
    margin: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 85vh;
    padding: 35px;
    box-sizing: border-box;
  }
  .info-container {
    background-color: #333333;
    border-radius: 18px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    padding: 40px;
    width: 100%;
    max-width: 960px;
    box-sizing: border-box;
  }
  .info {
    font-size: 50px; /* Ukuran teks yang lebih besar */
    color: #ffffff;
    border-bottom: 2px solid #11fdff;
    padding: 30px 0;
    display: flex;
    justify-content: flex-start; /* Pindahkan ke kiri */
    align-items: center;
  }
  .info:last-child {
    border-bottom: none;
  }
  .info-title {
    font-weight: bold;
    margin-right: 10px; /* Tambahkan jarak antara judul dan teks */
  }
  .loading-text {
    color: #2fff3b;
  }
  .error-text {
    color: #ff2424;
  }
  #country-flag {
    margin-right: 12px;
    width: 40px; /* Ukuran lebar bendera */
    height: 31px; /* Ukuran tinggi bendera */
  }
</style>
</head>
<body>
<div class="info-container">
  <div class="info"><span class="info-title">IPv4 Address:</span> <span class="loading-text">Memuat...</span></div>
  <div class="info"><span class="info-title">ISP:</span> <span class="loading-text">Memuat...</span></div>
  <div class="info"><span class="info-title">City:</span> <span class="loading-text">Memuat...</span></div>
  <div class="info"><span class="info-title">Region:</span> <span class="loading-text">Memuat...</span></div>
  <div class="info" id="country-container"><span class="info-title">Country:</span> <div style="display: flex; align-items: center;"><img id="country-flag" src="" alt="Flag" style="display:none;"/><span class="loading-text">Memuat...</span></div></div>
</div>

<script>
  const ipToken = 'b9434e9993eb72';

  fetch('https://api.ipify.org?format=json')
    .then(response => response.json())
    .then(data => {
      document.querySelector('.info-container .info:nth-child(1) .loading-text').textContent = data.ip;
      fetch(`https://ipinfo.io/${data.ip}/json?token=${ipToken}`)
        .then(response => response.json())
        .then(ipData => {
          const ispText = ipData.org.replace(/AS[0-9]+ /, '');
          document.querySelector('.info-container .info:nth-child(2) .loading-text').textContent = ispText;
          document.querySelector('.info-container .info:nth-child(3) .loading-text').textContent = ipData.city;
          document.querySelector('.info-container .info:nth-child(4) .loading-text').textContent = ipData.region;
          document.querySelector('.info-container .info:nth-child(5) .loading-text').textContent = ipData.country;
          const countryCode = ipData.country.toLowerCase();
          const flagImage = document.getElementById('country-flag');
          flagImage.src = `https://flagcdn.com/256x192/${countryCode}.png`;
          flagImage.style.display = 'inline';
          flagImage.alt = `Flag of ${ipData.country}`;
        })
        .catch(() => {
          document.querySelectorAll('.info-container .info .loading-text').forEach((info) => {
            info.textContent = 'Informasi tidak tersedia';
            info.classList.add('error-text');
          });
        });
    })
    .catch(() => {
      document.querySelectorAll('.info-container .info .loading-text').forEach((info) => {
        info.textContent = 'Informasi tidak tersedia';
        info.classList.add('error-text');
      });
    });
</script>
</body>
</html>
